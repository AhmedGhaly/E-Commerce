@using E_Commerce.ViewModel.OrderViewModels;
@model List<OrderedItemForUserVM>

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet" />
<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
<link rel="stylesheet" href="~/css/getAllProduct.css" />
<link href="~/css/styles.css" rel="stylesheet" />



<div id="orderDetails">
    @if (Model.Count == 0)
    {
        <h2>there is no Pruduct to show</h2>
    }


    <table class="table">

        @foreach (var order in Model)
        {
            <tr style="">

                <td><img src="/images/@order.image" style="width:50px; height:50px; border-radius: 50%;" /></td>

                <td>
                    <a id="btn-minus-order-quantity" style="cursor: pointer; border: none;"
                       data-action="decrease" data-orderId="@order.id" data-price="@order.price" onclick="decreaseQuantity(this, @order.price)">-</a>
                    <span id="quantity-order-@order.id">@order.Quantity</span>
                    <a id="btn-plus-order-quantity" style="cursor: pointer; border: none;"
                       data-action="increase" data-id="@order.id" onclick="increaseQuantity(this, @order.price)">+</a>
                </td>
                <td id="price-order-@order.id">@order.price</td>
                <td>
                    <a asp-action="DeleteCartItemById" asp-controller="Product" asp-route-id="@order.id" class="btn btn-success">Delete</a>
                </td>
                <td>
                    <a asp-action="Details" asp-controller="Product" asp-route-id="@order.id" class="btn btn-success" >Details</a>
                </td>

            </tr>


        }
        <tr style="text-align:center;">
            <td></td>
            <td>Total Price: </td>
            <td><div id="totalPriceOfOrder"></div></td>
            <td></td>
            <td></td>
        </tr>
    </table>

    <button onclick="getTotalPriceOfOrder()" class="btn btn-outline-success"> Order Now</button>

</div>
